# Copyright 2024 Agent Stream Org.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Function Configuration File

pulsar:
  serviceUrl: "pulsar://127.0.0.1:6650"  # Required: URL of the Pulsar broker
  authPlugin: ""  # Optional: Authentication plugin class name
  authParams: ""  # Optional: Authentication parameters

module: "pulsarToLanceDB"  # Required: Name of the module to use for processing

# Optional: List of source topics to consume from
# Note: Either sources or requestSource must be specified
sources:
  - pulsar:  # SourceSpec structure with pulsar configuration
      topic: "test-lancedb-topic"  # Topic name for regular message consumption

# Optional: request source
requestSource:
  pulsar:  # SourceSpec structure with pulsar configuration
    topic: "test-lancedb-topic"  # Topic name for request messages

# Required: Name of the subscription for the consumer
subscriptionName: "lancedb-sub"

# Optional: Output sink configuration
sink:
  pulsar:  # SinkSpec structure with pulsar configuration
    topic: "test-lancedb-topic"  # Topic name for output messages

# Optional: Additional configuration parameters
config:
  flush_interval_seconds: 30
  flush_max_payload_bytes: 104857600  # 100MB
  flush_max_msg_count: 10000
  timer_check_interval: 5
